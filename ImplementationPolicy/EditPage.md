# 実装方針

## 使用技術
- フレームワーク: Nuxt.js
- 言語: TypeScript
- UIライブラリ: Tailwind CSS
- 状態管理: Pinia
- その他: d3.js（マインドマップの描画用）

## 実装概要
1. **画面構成**
   - 左ペイン: マインドマップのヒエラルキーを表示。
   - 中央ペイン: マインドマップキャンバス（d3.jsを使用してノードとエッジを描画）。
   - 右ペイン: ノードの詳細や設定変更を行う。

2. **コンポーネント設計**
   - `MindMapCanvas`: マインドマップの描画と操作を担当。
   - `NodeEditor`: ノードのテキスト編集や色変更を担当。
   - `HierarchyPanel`: 左ペインでヒエラルキーを表示。
   - `NodeDetailPanel`: 右ペインでノードの詳細や設定変更を担当。
   - `Toolbar`: 全体の操作を補助。

3. **状態管理**
   - Piniaを使用して以下の状態を管理:
     - ノード情報（ID、テキスト、色、位置、親子関係）
     - 現在選択中のノード
     - 折りたたみ状態

4. **スタイリング**
   - Tailwind CSSを使用してレスポンシブデザインを実現。
   - カスタムCSSでd3.jsの描画部分を調整。

5. **テスト**
   - ユニットテスト: 各コンポーネントの動作確認。
   - E2Eテスト: マインドマップの作成からエクスポートまでの一連の操作を確認。

6. **キーボードショートカット**
   - ノード操作: 作成、削除、移動、展開/折りたたみ
   - 編集操作: コピー、ペースト、アンドゥ、リドゥ
   - 表示操作: ズームイン/アウト、全体表示、フォーカス移動

7. **ファイル操作**
   - マインドマップの保存: JSONフォーマットでエクスポート
   - マインドマップの読み込み: 既存のJSONファイルからインポート
   - 画像エクスポート: PNG、SVG形式での出力

## 実装手順
1. Nuxt.jsプロジェクトのセットアップ。
2. 必要なライブラリ（Tailwind CSS, Pinia, d3.js）のインストール。
3. コンポーネントの作成とレイアウトの実装。
4. d3.jsを用いたマインドマップ描画機能の実装。
5. 状態管理と操作ロジックの実装。
6. テストの作成と実行。

## 注意点
- POCのため、データの永続化は考慮しない。
- 大規模データ対応は後回しとし、基本的な操作性を優先する。
